<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Урок #4: Циклы for и строки в Python</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --light-bg: #f8f9fa;
            --card-bg: #ffffff;
            --text: #212529;
            --text-light: #6c757d;
            --border-radius: 16px;
            --shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(67, 97, 238, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(76, 201, 240, 0.03) 0%, transparent 20%);
            z-index: -2;
            pointer-events: none;
        }

        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.04;
            pointer-events: none;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf9 100%);
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            position: relative;
        }

        .container {
            max-width: 850px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 32px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 2;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #e9ecef;
            color: var(--text);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: 500;
            transition: var(--transition);
            margin-bottom: 20px;
        }
        .back-btn:hover {
            background: #dee2e6;
            transform: translateX(-4px);
        }

        h1 {
            text-align: center;
            font-weight: 700;
            font-size: 2.2rem;
            margin-bottom: 16px;
            color: var(--secondary);
        }

        p.intro {
            text-align: center;
            color: var(--text-light);
            margin-bottom: 32px;
            font-size: 1.05rem;
        }

        h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 36px 0 20px;
            font-size: 1.5rem;
            color: var(--primary);
            font-weight: 600;
        }

        h2 img {
            width: 28px;
            height: 28px;
        }

        pre {
            font-family: 'JetBrains Mono', monospace;
            background: #2b2d42;
            color: #f8f9fa;
            padding: 16px;
            border-radius: 12px;
            overflow-x: auto;
            font-size: 0.95rem;
            margin-top: 12px;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            background: #eef2ff;
            padding: 2px 6px;
            border-radius: 6px;
            color: var(--secondary);
        }

        /* === АККОРДЕОН ЗАДАЧ === */
        .accordion-header {
            background: #f9fbfd;
            padding: 16px 20px;
            margin: 12px 0;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
            box-shadow: 0 2px 8px rgba(67, 97, 238, 0.08);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--secondary);
        }

        .accordion-header:hover {
            background: #f0f5ff;
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(67, 97, 238, 0.1);
        }

        .accordion-header::after {
            content: "▶";
            transition: transform 0.3s ease;
            color: var(--primary);
        }

        .accordion-header.active::after {
            transform: rotate(90deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease, margin 0.4s ease;
            background: #f9fbfd;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
            box-shadow: 0 2px 8px rgba(67, 97, 238, 0.08);
            margin: 0 0 16px 0;
        }

        .accordion-content-inner {
            padding: 0 20px 20px;
            opacity: 0;
            transition: opacity 0.3s ease 0.2s;
        }

        .accordion-content.expanded {
            max-height: 1000px;
        }

        .accordion-content.expanded .accordion-content-inner {
            opacity: 1;
        }

        .task-image {
    width: 100%;
    max-height: 220px; /* чуть больше места */
    height: auto;      /* сохраняем пропорции */
    object-fit: contain; /* вписываем целиком, без обрезки */
    border-radius: 12px;
    margin: 16px 0;
    display: block;
    background: #f8f9fa; /* фон, если изображение прозрачное */
}

        .task-goal {
            background: #eef7ff;
            border-left: 3px solid var(--primary);
            padding: 12px 16px;
            margin: 16px 0;
            border-radius: 0 8px 8px 0;
            font-weight: 600;
            color: var(--secondary);
        }

        /* Цвета по уровням */
        .accordion-header.basic { border-left-color: #27ae60; color: #27ae60; }
        .accordion-header.basic::after { color: #27ae60; }
        .accordion-content.basic { border-left-color: #27ae60; }

        .accordion-header.medium { border-left-color: #f39c12; color: #f39c12; }
        .accordion-header.medium::after { color: #f39c12; }
        .accordion-content.medium { border-left-color: #f39c12; }

        .accordion-header.hard { border-left-color: #e74c3c; color: #e74c3c; }
        .accordion-header.hard::after { color: #e74c3c; }
        .accordion-content.hard { border-left-color: #e74c3c; }

        .level-header {
            margin-top: 32px;
            padding: 12px 0 8px;
            border-bottom: 2px solid #e0e0e0;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text);
        }
        .level-header.basic { color: #27ae60; }
        .level-header.medium { color: #f39c12; }
        .level-header.hard { color: #e74c3c; }

        /* === ТЕСТ: ОДИН ВОПРОС ЗА РАЗ === */
        .test-container {
            margin-top: 30px;
        }

        .test-question {
            display: none;
            padding: 24px;
            background: #f9fbfd;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .test-question.active {
            display: block;
        }

        .test-question p {
            margin-bottom: 16px;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .test-question label {
            display: block;
            margin: 12px 0;
            padding: 14px;
            background: white;
            border: 2px solid #e0e6f0;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            font-size: 1rem;
        }

        .test-question label:hover {
            border-color: var(--primary-light);
            background: #f0f5ff;
        }

        .test-question input[type="radio"] {
            margin-right: 10px;
            accent-color: var(--primary);
        }

        .test-controls {
            text-align: center;
            margin-top: 20px;
        }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 28px;
            margin: 5px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(67, 97, 238, 0.3);
        }

        button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 14px rgba(63, 55, 201, 0.4);
        }

        button:disabled {
            background: #b0b0b0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #result {
            margin-top: 24px;
            padding: 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1.1rem;
            text-align: center;
            display: none;
        }

        #result.show {
            display: block;
            animation: pulse 0.6s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .error {
            color: #e74c3c;
            margin-top: 10px;
            font-weight: 500;
            display: none;
        }

        .password-box {
            background: white;
            padding: 32px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .password-box h2 {
            margin-bottom: 20px;
            color: var(--secondary);
        }

        .password-box input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
        }

        .password-box button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 28px;
            margin-top: 10px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            transition: var(--transition);
        }

        .password-box button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>

<!-- Экран ввода пароля -->
<div id="passwordScreen">
    <div class="password-box">
        <h2>🔒 Доступ к уроку</h2>
        <p>Введите пароль для продолжения:</p>
        <input type="password" id="passwordInput" placeholder="Пароль">
        <button onclick="checkPassword()">Войти</button>
        <div id="passwordError" class="error">Неверный пароль!</div>
    </div>
</div>

<!-- Основной контент (изначально скрыт) -->
<div class="container" id="mainContent" style="display:none;">

    <a href="javascript:history.back()" class="back-btn">← Назад</a>

    <h1>Урок #4: Циклы <code>for</code> и строки в Python</h1>
    <p class="intro">Научитесь перебирать последовательности с помощью цикла <code>for</code>, работать со строками и решать реальные задачи — от расшифровки древних текстов до спасения человечества!</p>

<!-- === ТЕОРИЯ === -->
<h2>📚 Цикл <code>for</code> и строки в Python</h2>

<div class="accordion-item">
    <div class="accordion-header" data-topic="for" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">1.</span>
            Что такое цикл <span class="keyword">for</span>?
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #4361ee;">
        <div class="accordion-content-inner">
            <p>Цикл <code>for</code> в Python позволяет выполнять один и тот же блок кода несколько раз — по одному разу для каждого элемента в последовательности.</p>
            <p>Это самый удобный способ перебрать:</p>
            <ul>
                <li>числа в диапазоне,</li>
                <li>символы в строке,</li>
                <li>элементы списка.</li>
            </ul>
            <p>Синтаксис:</p>
            <pre>
for переменная in последовательность:
    действия</pre>
            <p>Пример:</p>
            <pre>
for i in range(3):
    print("Шаг", i)</pre>
            <p>Вывод:</p>
            <pre>
Шаг 0
Шаг 1
Шаг 2</pre>
        </div>
    </div>
</div>

<div class="accordion-item">
    <div class="accordion-header" data-topic="range" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">2.</span>
            Функция <span class="keyword">range()</span>
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #2980b9;">
        <div class="accordion-content-inner">
            <p>Функция <code>range()</code> создаёт последовательность целых чисел.</p>
            <p>Три варианта использования:</p>
            <ul>
                <li><code>range(5)</code> → 0, 1, 2, 3, 4</li>
                <li><code>range(2, 6)</code> → 2, 3, 4, 5</li>
                <li><code>range(1, 10, 2)</code> → 1, 3, 5, 7, 9 (шаг = 2)</li>
            </ul>
            <p>Важно: правая граница **не включается**.</p>
            <p>Пример: вывести числа от 1 до 5:</p>
            <pre>
for i in range(1, 6):
    print(i)</pre>
        </div>
    </div>
</div>

<div class="accordion-item">
    <div class="accordion-header" data-topic="string" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">3.</span>
            Перебор строки посимвольно
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #8e44ad;">
        <div class="accordion-content-inner">
            <p>Строка — это последовательность символов. Цикл <code>for</code> может пройти по каждому символу:</p>
            <pre>
word = "Код"
for letter in word:
    print(letter)</pre>
            <p>Вывод:</p>
            <pre>
К
о
д</pre>
            <p>Это особенно полезно, когда нужно:</p>
            <ul>
                <li>посчитать количество определённых символов,</li>
                <li>проверить, есть ли в строке запрещённые символы,</li>
                <li>преобразовать каждый символ.</li>
            </ul>
        </div>
    </div>
</div>

<div class="accordion-item">
    <div class="accordion-header" data-topic="count" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">4.</span>
            Как посчитать символы в строке?
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #27ae60;">
        <div class="accordion-content-inner">
            <p>Есть два способа:</p>
            <p><b>Способ 1 — с помощью цикла:</b></p>
            <pre>
text = "Привет***"
count = 0
for char in text:
    if char == '*':
        count += 1
print(count)</pre>
            <p><b>Способ 2 — с помощью метода <code>count()</code>:</b></p>
            <pre>
text = "Привет***"
count = text.count('*')
print(count)</pre>
            <p>Оба выведут <code>3</code>. Второй способ короче, но первый даёт больше гибкости.</p>
        </div>
    </div>
</div>

<div class="accordion-item">
    <div class="accordion-header" data-topic="control" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">5.</span>
            Операторы <span class="keyword">continue</span> и <span class="keyword">break</span>
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #e67e22;">
        <div class="accordion-content-inner">
            <p>Иногда нужно изменить поведение цикла:</p>
            <ul>
                <li><code>continue</code> — пропустить остаток текущей итерации и перейти к следующей.</li>
                <li><code>break</code> — немедленно завершить цикл.</li>
            </ul>
            <p>Пример с <code>continue</code> (пропустить число 4):</p>
            <pre>
for i in range(1, 6):
    if i == 4:
        continue
    print(i)</pre>
            <p>Вывод:</p>
            <pre>
1
2
3
5</pre>
            <p>Число 4 не выводится — цикл его «пропустил».</p>
        </div>
    </div>
</div>

<div class="accordion-item">
    <div class="accordion-header" data-topic="nested" onclick="toggleAccordion(this)">
        <div class="header-content">
            <span class="number">6.</span>
            Вложенные циклы
        </div>
    </div>
    <div class="accordion-content" style="border-left-color: #c0392b;">
        <div class="accordion-content-inner">
            <p>Цикл можно поместить внутрь другого цикла. Это нужно, например, для рисования фигур.</p>
            <p>Пример: треугольник из звёздочек высотой 4:</p>
            <pre>
n = 4
for i in range(1, n + 1):
    line = ''
    for j in range(i):
        line += '*'
    print(line)</pre>
            <p>Вывод:</p>
            <pre>
*
**
***
****</pre>
            <p>Внешний цикл отвечает за строки, внутренний — за символы в каждой строке.</p>
        </div>
    </div>
</div>
    <!-- === ЗАДАЧИ В ГАРМОШКЕ === -->
    <h2>🎯 Задачи по уровням сложности</h2>

    <!-- БАЗОВЫЙ УРОВЕНЬ -->
    <h3 class="level-header basic">🟢 Базовый уровень</h3>

    <div class="accordion-item">
        <div class="accordion-header basic" onclick="toggleAccordion(this)">
            Задание 1: Последний шанс человечества
        </div>
        <div class="accordion-content basic">
            <div class="accordion-content-inner">
                <img src="https://masterpiecer-images.s3.yandex.net/2ae0c623aa5611eeb26ab61765e8ab70:upscaled" alt="Изображение: космический арк «Ковчег-10» перед стартом" class="task-image">
                <p>В 2147 году человечество запустило последний шанс на выживание — космический арк «Ковчег-10», спроектированный для колонизации далёкой обитаемой планеты. Перед стартом система жизнеобеспечения требует выполнения финального диагностического протокола, утверждённого Советом Галактической Безопасности.</p>
                <p>Согласно статье 7, параграфу 3 Устава Звёздных Миссий, перед активацией гипердвигателя бортовой ИИ обязан последовательно вывести на главный дисплей все целочисленные идентификаторы базовых модулей — от 1 до 10 включительно. Это подтверждает корректность работы последовательного счётчика времени, целостность ядра операционной системы и готовность экипажа к переходу в гиперпространство.</p>
                <p>Одна ошибка — и запуск отменяется на 100 лет.<br>Но вы — последний инженер на борту.<br>И от вас зависит судьба всего человечества.</p>
                <div class="task-goal">Задание: Выведите все числа от 1 до 10 — строго по порядку, каждое с новой строки.<br>Не подведите Цивилизацию.</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header basic" onclick="toggleAccordion(this)">
            Задание 2: Юридический архив
        </div>
        <div class="accordion-content basic">
            <div class="accordion-content-inner">
                <img src="https://avatars.mds.yandex.net/i?id=d7cf08510f3df01de2f5aba03fd91df7_l-5320725-images-thumbs&n=13" alt="Изображение: старинный юридический архив с папками и печатями" class="task-image">
                <p>Вы — архивариус старинной юридической конторы «Линд & Сыновья», хранитель десятилетий судебных прецедентов. Сегодня утром к вам в кабинет ворвался адвокат Элен Морроу с папкой, помеченной красной печатью: «Срочно. Конфиденциально. До суда — 3 часа».</p>
                <p>Речь идёт о наследственном споре, где всё решает один утерянный том архива. По внутреннему регламенту конторы, только чётные страницы содержат официальные подписи и заверенные копии, имеющие юридическую силу. Нечётные — черновые заметки, не подлежащие предъявлению в суде.</p>
                <p>Адвокат точно помнит: нужные документы находятся где-то между страницами A и B (включительно). Но времени перелистывать весь том нет. Вам поручено мгновенно составить список всех чётных номеров страниц в указанном диапазоне — именно их она будет цитировать в зале суда.</p>
                <p>Ошибётесь — проиграете дело.<br>Пропустите хоть одну — упустите доказательство.<br>А в этой профессии доказательства — всё.</p>
                <div class="task-goal">Задание:<br>Запросите у пользователя два целых числа — начало и конец диапазона страниц (включительно).<br>Выведите все чётные числа в этом диапазоне, каждое с новой строки, в порядке возрастания.</div>
            </div>
        </div>
    </div>

    <!-- СРЕДНИЙ УРОВЕНЬ -->
    <h3 class="level-header medium">🟡 Средний уровень</h3>

    <div class="accordion-item">
        <div class="accordion-header medium" onclick="toggleAccordion(this)">
            Задание 3: Архив реставраторов
        </div>
        <div class="accordion-content medium">
            <div class="accordion-content-inner">
                <!-- <img src="" alt="Изображение: реставратор за работой с древней рукописью и звёздочками" class="task-image"> -->
                <p>Вы — координатор отдела цифровой реставрации в Национальном архиве. Ваша команда оцифровывает уникальные рукописи XIX века, многие из которых повреждены временем. Чтобы ускорить работу, редакторы помечают проблемные места символом *:<br>— нечитаемое слово,<br>— разрыв пергамента,<br>— спорная интерпретация латинской аббревиатуры.</p>
                <p>Каждая звёздочка — это точка, требующая вмешательства специалиста. И здесь всё строго:<br>* До 5 звёздочек — документ обрабатывает младший реставратор.<br>* От 6 до 15 — передаётся среднему уровню.<br>* 16 и более — только старший филолог с двадцатилетним стажем.</p>
                <p>Но чтобы правильно распределить нагрузку, система сначала должна точно посчитать, сколько звёздочек содержится в строке (или фрагменте). Ошибка на единицу может привести к тому, что сложнейший документ попадёт к новичку — и будет утеряна историческая деталь, которую уже не восстановить.</p>
                <p>Сегодня утром вам прислали тестовый фрагмент для калибровки алгоритма.<br>Всё, что от вас требуется — получить строку и вывести точное количество символов *.</p>
                <p>Потому что в этом архиве не считают «примерно».<br>Здесь считают — точно.</p>
                <div class="task-goal">Задание:<br>Получите от пользователя строку текста.<br>Выведите количество символов * в этой строке и решите, кто будет работать над документом.</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header medium" onclick="toggleAccordion(this)">
            Задание 4: Пиратский счёт
        </div>
        <div class="accordion-content medium">
            <div class="accordion-content-inner">
                <img src="https://sun9-58.userapi.com/impf/FHArBHyQfVpfruXENCFldIj4eIB2glOj-gNi7g/X4qT5Jl2Rwc.jpg?size=337x216&quality=96&sign=1805c173dc2121d596a9c3818087bfcb&type=album" alt="Изображение: пираты у сундука с золотом, считают монеты" class="task-image">
                <p>На борту «Чёрной Жемчужины» царит напряжённое молчание. Капитан только что открыл сундук с добычей после месяца погонь и штормов. По древнему пиратскому обычаю, перед тем как разделить золото, команда вслух пересчитывает монеты по порядку — от первой до N, чтобы дух моря засвидетельствовал честность дележа.</p>
                <p>Но есть одно правило, вырезанное в уставе каждой уважающей себя команды:<br>«Четвёрку не зови — она зовёт беду».</p>
                <p>Считается, что число 4 и кратные ему приносят штиль, трещины в мачтах и солёные слёзы у рулевого. Ни один пират не произнесёт его вслух у сундука — даже под пыткой.</p>
                <p>Ваша задача — помочь юнге правильно провести ритуальный счёт.<br>Выведите числа от 1 до N, но пропустите числа кратные ему.<br>Используйте continue, чтобы уважать суеверие — и не навлечь проклятие на корабль.</p>
                <p>Потому что на море не смеются над приметами…<br>Особенно — когда в трюме полно золота, а на горизонте — чёрный флаг.</p>
                <div class="task-goal">Задание:<br>Выведите числа от 1 до N, каждое с новой строки, пропуская число 4 и картные ему.<br>Подсказка: используйте оператор continue.</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header medium" onclick="toggleAccordion(this)">
            Задание 5: Расшифровка рукописи
        </div>
        <div class="accordion-content medium">
            <div class="accordion-content-inner">
                <img src="https://clip.spbstu.ru/files/thumbs/2019/06/18/1560853015f705c-768x432-1.jpg" alt="Изображение: лингвист в пустыне с древней рукописью и фонарём" class="task-image">
                <p>В пустынной экспедиции вы работаете лингвистом-криптографом. Неделю назад местные жители передали вам фрагмент старинной рукописи, найденной в заброшенной библиотеке у оазиса. Текст написан странными символами, но вскоре вы поняли: это не неизвестный язык, а латинский алфавит, зашифрованный простым сдвигом — методом, известным ещё древним учёным.</p>
                <p>На полях рукописи карандашом указано число — ключ сдвига. По традиции того времени, авторы использовали такой шифр не для сокрытия, а для защиты текста от случайного чтения непосвящёнными. Только тот, кто знает ключ, может увидеть истинный смысл.</p>
                <p>Ваша задача — расшифровать запись, чтобы передать перевод в научный архив. Это может быть фрагмент утраченного трактата о звёздах, рецепт лекарства или поэма — никто не знает. Но каждая буква ценна.</p>
                <p>Вы сидите в палатке при свете фонаря. Песок тихо стучит по ткани.<br>На столе — записка с буквами и число.<br>Ошибётесь — и смысл исказится.<br>А в науке искажение — хуже молчания.</p>
                <div class="task-goal">Задание:<br>Получите от пользователя:<br>1. Строку — зашифрованное сообщение (только заглавные латинские буквы, без пробелов и знаков);<br>2. Целое число — ключ сдвига (от 1 до 25).<br><br>Выведите расшифрованное сообщение, применив обратный сдвиг по алфавиту (шифр Цезаря).</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header medium" onclick="toggleAccordion(this)">
            Задание 6: Треугольник из звёздочек
        </div>
        <div class="accordion-content medium">
            <div class="accordion-content-inner">
                <!-- <img src="" alt="Изображение: геометрический треугольник из звёздочек на экране терминала" class="task-image"> -->
                <p>Напишите программу, которая выводит прямоугольный треугольник, составленный из символов *.<br>Треугольник должен быть выровнен по левому краю и состоять из N строк, где N задаёт пользователь.</p>
                <p>Формат вывода:<br>* В первой строке — 1 звёздочка<br>* Во второй — 2 звёздочки<br>* В третьей — 3 звёздочки<br>* …<br>* В N-й строке — N звёздочек</p>
                <p>Каждая строка выводится с новой строки. Пробелы в начале или конце не допускаются.</p>
                <div class="task-goal">Задание: Выведите треугольник из звёздочек высотой N строк.</div>
            </div>
        </div>
    </div>

    <!-- ПОВЫШЕННЫЙ УРОВЕНЬ -->
    <h3 class="level-header hard">🔴 Повышенный уровень</h3>

    <div class="accordion-item">
        <div class="accordion-header hard" onclick="toggleAccordion(this)">
            Задание 7: Системы счисления (9 и 11)
        </div>
        <div class="accordion-content hard">
            <div class="accordion-content-inner">
                <!-- <img src="" alt="Изображение: олимпиадная задача по системам счисления" class="task-image"> -->
                <p>Операнды арифметического выражения записаны в системах счисления с основаниями 9 и 11:</p>
                <p>88х4y<sub>9</sub> + 7х44y<sub>11</sub>.</p>
                <p>В записи чисел переменными x и y обозначены допустимые в данных системах счисления неизвестные цифры. Определите значения x и y, при которых значение данного арифметического выражения будет наименьшим и кратно 61. Для найденных значений x и y вычислите частное от деления значения арифметического выражения на 61 и укажите его в ответе в десятичной системе счисления. Основание системы счисления в ответе указывать не нужно.</p>
                <div class="task-goal">Ответ: 2715</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header hard" onclick="toggleAccordion(this)">
            Задание 8: Системы счисления (11 и 19)
        </div>
        <div class="accordion-content hard">
            <div class="accordion-content-inner">
                <!-- <img src="" alt="Изображение: олимпиадная задача по системам счисления" class="task-image"> -->
                <p>Операнды арифметического выражения записаны в системах счисления с основаниями 11 и 19:</p>
                <p>x341y<sub>11</sub> + 56х1y<sub>19</sub>.</p>
                <p>В записи чисел переменными x и y обозначены допустимые в данных системах счисления неизвестные цифры. Определите значения x и y, при которых значение данного арифметического выражения будет наименьшим и кратно 305. Для найденных значений x и y вычислите частное от деления значения арифметического выражения на 305 и укажите его в ответе в десятичной системе счисления. Основание системы счисления в ответе указывать не нужно.</p>
                <div class="task-goal">Задание: Найдите частное от деления суммы на 305.</div>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header hard" onclick="toggleAccordion(this)">
            Задание 9: Системы счисления (12 и 14)
        </div>
        <div class="accordion-content hard">
            <div class="accordion-content-inner">
                <!-- <img src="" alt="Изображение: олимпиадная задача по системам счисления" class="task-image"> -->
                <p>Операнды арифметического выражения записаны в системах счисления с основаниями 12 и 14:</p>
                <p>x231y<sub>12</sub> + 78х98y<sub>14</sub>.</p>
                <p>В записи чисел переменными x и y обозначены допустимые в данных системах счисления неизвестные цифры. Определите значения x и y, при которых значение данного арифметического выражения будет наименьшим и кратно 99. Для найденных значений x и y вычислите частное от деления значения арифметического выражения на 99 и укажите его в ответе в десятичной системе счисления. Основание системы счисления в ответе указывать не нужно.</p>
                <div class="task-goal">Задание: Найдите частное от деления суммы на 99.</div>
            </div>
        </div>
    </div>

    <!-- === ТЕСТ === -->
    <h2>
        <img src="https://cdn-icons-png.flaticon.com/512/3051/3051303.png" alt="Тест" style="vertical-align:middle;">
        Тест по уроку
    </h2>
    <p style="text-align: center; color: var(--text-light); margin-bottom: 20px;">Ответьте на 5 вопросов. Вернуться к предыдущим вопросам нельзя!</p>

    <div class="test-container">
        <div class="test-question active" data-question="1">
            <p><strong>1. Какой цикл лучше всего подходит для перебора всех символов в строке?</strong></p>
            <label><input type="radio" name="q1" value="a"> while</label>
            <label><input type="radio" name="q1" value="b"> for</label>
            <label><input type="radio" name="q1" value="c"> if</label>
            <label><input type="radio" name="q1" value="d"> def</label>
        </div>

        <div class="test-question" data-question="2">
            <p><strong>2. Что выведет этот код?<br><code>for i in range(3):<br>&nbsp;&nbsp;&nbsp;&nbsp;print(i)</code></strong></p>
            <label><input type="radio" name="q2" value="a"> 1 2 3</label>
            <label><input type="radio" name="q2" value="b"> 0 1 2</label>
            <label><input type="radio" name="q2" value="c"> 0 1 2 3</label>
            <label><input type="radio" name="q2" value="d"> Бесконечный цикл</label>
        </div>

        <div class="test-question" data-question="3">
            <p><strong>3. Как пропустить текущую итерацию цикла <code>for</code>?</strong></p>
            <label><input type="radio" name="q3" value="a"> skip</label>
            <label><input type="radio" name="q3" value="b"> pass</label>
            <label><input type="radio" name="q3" value="c"> continue</label>
            <label><input type="radio" name="q3" value="d"> break</label>
        </div>

        <div class="test-question" data-question="4">
            <p><strong>4. Как получить длину строки <code>s</code>?</strong></p>
            <label><input type="radio" name="q4" value="a"> s.length()</label>
            <label><input type="radio" name="q4" value="b"> len(s)</label>
            <label><input type="radio" name="q4" value="c"> s.size()</label>
            <label><input type="radio" name="q4" value="d"> length(s)</label>
        </div>

        <div class="test-question" data-question="5">
            <p><strong>5. Какой диапазон создаёт <code>range(1, 5)</code>?</strong></p>
            <label><input type="radio" name="q5" value="a"> 1, 2, 3, 4, 5</label>
            <label><input type="radio" name="q5" value="b"> 1, 2, 3, 4</label>
            <label><input type="radio" name="q5" value="c"> 0, 1, 2, 3, 4</label>
            <label><input type="radio" name="q5" value="d"> 5, 4, 3, 2, 1</label>
        </div>

        <div class="test-controls">
            <button id="nextBtn" onclick="nextOrSubmit()">Далее →</button>
            <button id="submitBtn" onclick="submitTest()" style="display:none;">Завершить тест</button>
        </div>

        <div id="result"></div>
    </div>
</div>

<script>
    // === ФОН "МАТРИЦА" ===
    function initMatrixRain() {
        const canvas = document.createElement('canvas');
        canvas.className = 'matrix-rain';
        document.body.appendChild(canvas);
        const ctx = canvas.getContext('2d');

        let w, h;
        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        const fontSize = 14;
        const columns = Math.floor(w / fontSize);
        const drops = [];

        for (let i = 0; i < columns; i++) {
            drops[i] = Math.floor(Math.random() * h / fontSize);
        }

        function draw() {
            ctx.fillStyle = 'rgba(255, 255, 255, 0.04)';
            ctx.fillRect(0, 0, w, h);

            ctx.fillStyle = '#4361ee';
            ctx.font = `${fontSize}px 'JetBrains Mono', monospace`;

            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > h && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
            requestAnimationFrame(draw);
        }

        draw();
    }

    // === АККОРДЕОН ЗАДАЧ ===
    function toggleAccordion(header) {
        const content = header.nextElementSibling;
        const isActive = header.classList.contains('active');

        // Закрываем все остальные
        document.querySelectorAll('.accordion-header').forEach(h => {
            if (h !== header) {
                h.classList.remove('active');
                h.nextElementSibling.classList.remove('expanded');
            }
        });

        // Переключаем текущий
        if (isActive) {
            header.classList.remove('active');
            content.classList.remove('expanded');
        } else {
            header.classList.add('active');
            content.classList.add('expanded');
        }
    }

    // === ПАРОЛЬ ===
    const encryptedPassword = "cHl0aG9uMjAyNQ==";
    function decryptPassword() {
        try { return atob(encryptedPassword); } catch (e) { return ""; }
    }
    function checkPassword() {
        const input = document.getElementById("passwordInput").value;
        const correct = decryptPassword();
        const errorEl = document.getElementById("passwordError");
        if (input === correct) {
            document.getElementById("passwordScreen").style.display = "none";
            document.getElementById("mainContent").style.display = "block";
            initMatrixRain();
        } else {
            errorEl.style.display = "block";
            setTimeout(() => errorEl.style.display = "none", 2000);
        }
    }

    // === ТЕСТ ===
    const encryptedAnswers = "eyJxMSI6ImIiLCJxMiI6ImIiLCJxMyI6ImMiLCJxNCI6ImIiLCJxNSI6ImIifQ==";
    function decryptAnswers() {
        try { return JSON.parse(atob(encryptedAnswers)); } catch (e) { return {}; }
    }

    let currentQuestion = 1;
    const totalQuestions = 5;

    function nextOrSubmit() {
        const selected = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
        if (!selected) { alert("Пожалуйста, выберите ответ!"); return; }
        if (currentQuestion < totalQuestions) {
            document.querySelector(`.test-question[data-question="${currentQuestion}"]`).classList.remove('active');
            currentQuestion++;
            document.querySelector(`.test-question[data-question="${currentQuestion}"]`).classList.add('active');
            if (currentQuestion === totalQuestions) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('submitBtn').style.display = 'inline-block';
            }
        }
    }

    function submitTest() {
        const answers = decryptAnswers();
        if (Object.keys(answers).length === 0) { alert("Не удалось загрузить правильные ответы!"); return; }
        let score = 0;
        for (let i = 1; i <= totalQuestions; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            if (selected && selected.value === answers[`q${i}`]) score++;
        }
        const resultEl = document.getElementById('result');
        const percent = Math.round((score / totalQuestions) * 100);
        let message = `Вы набрали ${score} из ${totalQuestions} (${percent}%)<br>`;
        if (score === totalQuestions) {
            message += "Отлично! Вы мастер циклов for и строк! 🎉";
            resultEl.style.backgroundColor = '#d4edda'; resultEl.style.color = '#155724';
        } else if (score >= 3) {
            message += "Хорошо! Почти идеально. Продолжайте в том же духе!";
            resultEl.style.backgroundColor = '#fff3cd'; resultEl.style.color = '#856404';
        } else {
            message += "Повторите тему и попробуйте снова!";
            resultEl.style.backgroundColor = '#f8d7da'; resultEl.style.color = '#721c24';
        }
        resultEl.innerHTML = message;
        resultEl.classList.add('show');
        resultEl.style.display = 'block';
    }
</script>
</body>
</html>
